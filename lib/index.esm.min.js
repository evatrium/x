let t=document,i=i=>t.createElement(i),s=(t,i)=>t.appendChild(i),e=i=>t.createTextNode(i),r=r=>{let l=i("style");return s(l,e("")),s(r||t.head,l),t=>(s(l,e(t)),l)},l=r(),h=r(),n=(t,i)=>{i=i||String;try{if(i==Boolean?t=[!0,1,"","1","true"].includes(t):"string"==typeof t&&(t=i==Number?Number(t):i==Object||i==Array?JSON.parse(t):t),{}.toString.call(t)==`[object ${i.name}]`)return{value:t,error:i==Number&&Number.isNaN(t)}}catch(t){}return{value:t,error:!0}},o=(t,i,s)=>{null===s||!1===s?t.removeAttribute(i):t.setAttribute(i,((t,i)=>!(!t.getAttribute||!t.localName)&&(i=t.getAttribute("is"),t.localName.includes("-")||i&&i.includes("-")))(t)&&(c(s)||a(s))?JSON.stringify(s):s)},u=t=>t.replace(/([A-Z])/g,"-$1").toLowerCase(),f=t=>t.replace(/-(\w)/g,(t,i)=>i.toUpperCase()),a=Array.isArray,c=t=>!a(t)&&"object"==typeof t,d=t=>"function"==typeof t,p=t=>"string"==typeof t,v=(t,i,s)=>t.removeEventListener(i,s),b=(t,i,s)=>Object.defineProperty(t,i,s),m=(t,i)=>{for(let s in i)t[s]=i[s];return t};h(" .___ {visibility: inherit;}",!0);var y=(t,i)=>t.removeChild(i),g=(t,i,s)=>t.insertBefore(i,s),w=t=>t.toLowerCase(),N={},_=[],j=_.map,k="#document-fragment",x=(t,i)=>i,O=(t,i,s)=>{for(var e in s={},t)s[e]=t[e];for(var e in i)s[e]=i[e];return s},$=function(t){this.handlers[t.type](t)},A=t=>{[].concat(...t.childNodes).forEach(t=>{if(t.handlers)for(let i in t.handlers)v(t,i,$);A(t)})},C=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i,S=(t,i,s)=>{"-"===i[0]?t.setProperty(i,s):t[i]="number"==typeof s&&!1===C.test(i)?s+"px":s},T=(t,i,s)=>(t=>t?t.split(/\s+/).filter(t=>t):[])(c(i)?((t,i)=>{i="";for(let s in t)t[s]&&(i+=(i&&" ")+s);return i})(i):i).forEach(i=>t.classList[s](i)),B=(t,i,s,e,r)=>{if("key"===i);else if(!d(e)||!i.startsWith("on")||i in t)"ref"===i&&d(e)?e(t):"style"===i?((i,s,e,r)=>{if(r=t.style,p(s))return r.cssText=s;if(p(e)&&(r.cssText="",e=null),e)for(let t in e)s&&t in s||S(r,t,"");if(s)for(let t in s)e&&s[t]===e[t]||S(r,t,s[t])})(0,e,s):"className"===i||"class"===i?(T(t,s,"remove"),T(t,e,"add")):!r&&"list"!==i&&i in t?t[i]=null==e?"":e:o(t,i,e);else{let r=w(i)in t?w(i.slice(2)):w(i[2])+i.substring(3);((t.handlers||(t.handlers={}))[i=r]=e)?s||((t,i,s)=>t.addEventListener(i,s))(t,i,$):v(t,i,$)}},E=(r,l)=>{var h=3===r.type?e(r.name):(l=l||"svg"===r.name)?t.createElementNS("http://www.w3.org/2000/svg",r.name):r.name===k?t.createDocumentFragment():i(r.name),n=r.props;for(var o in n)B(h,o,null,n[o],l);for(var u=0,f=r.children.length;u<f;u++)s(h,E(r.children[u],l));return r.node=h},H=t=>null==t?null:t.key,J=t=>(t.t&&t.t(t),t),R=(t,i,s,e,r)=>{if(s===e);else if(null!=s&&3===s.type&&3===e.type)s.name!==e.name&&(i.nodeValue=e.name);else if(null==s||s.name!==e.name)i=g(t,E(e,r),i),null!=s&&y(t,J(s.node));else{var l,h,n,o,u=s.props,f=e.props,a=s.children,c=e.children,d=0,p=0,v=a.length-1,b=c.length-1;for(var m in r=r||"svg"===e.name,O(u,f)){let t=u[m],s=f[m];(["value","selected","checked"].includes(m)?i[m]:t)!==s&&B(i,m,t,s,r)}for(;p<=b&&d<=v&&null!=(n=H(a[d]))&&n===H(c[p]);)R(i,a[d].node,a[d++],c[p++],r);for(;p<=b&&d<=v&&null!=(n=H(a[v]))&&n===H(c[b]);)R(i,a[v].node,a[v--],c[b--],r);if(d>v)for(;p<=b;)g(i,E(c[p++],r),(h=a[d])&&h.node);else if(p>b)for(;d<=v;)y(i,J(a[d++].node));else{for(var w=d,N={},_={};w<=v;w++)null!=(n=a[w].key)&&(N[n]=a[w]);for(;p<=b;)n=H(h=a[d]),o=H(c[p]),_[n]||null!=o&&o===H(a[d+1])?(null==n&&y(i,J(h.node)),d++):null==o||1===s.type?(null==n&&(R(i,h&&h.node,h,c[p],r),p++),d++):(n===o?(R(i,h.node,h,c[p],r),_[o]=!0,d++):null!=(l=N[o])?(R(i,g(i,l.node,h&&h.node),l,c[p],r),_[o]=!0):R(i,h&&h.node,null,c[p],r),p++);for(;d<=v;)null==H(h=a[d++])&&y(i,J(h.node));for(var w in N)null==_[w]&&y(i,J(N[w].node))}}return e.node=i},z=(t,i,s,e,r,l)=>({name:t,props:i,children:s,node:e,type:l,key:r}),L=(t,i)=>z(t,N,_,i,null,3),M=t=>3===t.nodeType?L(t.nodeValue,t):z(w(t.nodeName),N,j.call(t.childNodes,M),t,null,1),P=(t,i)=>((t=R(t.parentNode,t,t.vdom||M(t),i)).vdom=i,t),Z=function(t,i){for(var s,e=[],r=[],l=arguments.length;l-- >2;)e.push(arguments[l]);for(;e.length>0;)if(a(s=e.pop()))for(l=s.length;l-- >0;)e.push(s[l]);else!1===s||!0===s||null==s||r.push(c(s)?s:L(s));return i=i||N,d(t)?t(i,r):z(t,i,r,null,i.key)};let q=Symbol(),D=Symbol(),F={};class G extends HTMLElement{constructor(){super(),this.context=F,this.i=[],this.s={},this.state={},this.Host=(t,i)=>{this.l=!0;let s=O(this.s,t);if(Object.keys(s).length)for(let i in s)B(this,i,this.s[i],t[i]);return this.s=t,Z(k,{},i)},this.setState=t=>{m(this.state,d(t)?t(this.state):t||{}),this.update()},this.observeObi=(...t)=>t.forEach(t=>t.$onChange&&this.i.push(t.$onChange(this.update))),this.update=()=>(this.h||(this.h=this.o.then(t=>{t=[m({Host:this.Host},this[q]),this.state,this.context],this.u?this.p(...t):this.v(...t),this.h=!1})),this.h),this.v=(...t)=>{this.willRender(...t);let e=this.render(...t),r=i(this.l?"template":e.name);s(this.m,r),this.g=P(this.l?this.m:r,e),setTimeout(()=>{this.classList.add("___"),this.didRender(...t),this.i.push(this.lifeCycle()),this.u=!0})},this.p=(...t)=>{let i=this.willRender();(i||void 0===i)&&(P(this.l?this.m:this.g,this.render(...t)),this.didRender())},this.t=t=>{t&&A(t),this.i.forEach(t=>t&&t()),this.N=!0},this[q]={},this.render=this.render.bind(this),this.o=new Promise(t=>this._=t),this.update();let{j:t}=this.constructor,e=t.length;for(;e--;)t[e](this)}connectedCallback(){this.u||(this.attachShadow({mode:"open"}),this.m=this.shadowRoot||this,this.state.$onChange&&this.i.push(this.state.$onChange(this.update)),this.observe&&this.observeObi(this.observe),this._())}attributeChangedCallback(t,i,s){t!==this[D]&&i!==s&&(this[f(t)]=s)}static get observedAttributes(){let{propTypes:t,prototype:i}=this;return this.j=[],t?Object.keys(t).map(s=>{let e=u(s),r=t[s].name?{type:t[s]}:t[s];return s in i||b(i,s,{get(){return this[q][s]},set(t){let{value:i,error:l}=n(t,r.type);if(l&&null!=i)throw`[${s}] must be type [${r.type.name}]`;i!==this[q][s]&&(r.reflect&&this.o.then(()=>{this[D]=e,o(this,e,r.type!==Boolean||i?i:null),this[D]=!1}),this[q][s]=i,this.update())}}),r.value&&this.j.push(t=>t[s]=r.value),e}):[]}lifeCycle(){}willRender(){}render(){}didRender(){}disconnectedCallback(){!this.N&&this.t()}}const I=(t,i,s)=>{var e,r;return(t=>h(`${t} {visibility:hidden}`))(t),customElements.define(t,i.prototype instanceof G?i:(r=e=class extends G{constructor(...t){super(...t),this.render=i}},e.propTypes=s,r)),(i,s)=>Z(t,i,s)},K=(t,i,s)=>I("x-"+t,i,s);export{x as Fragment,G as Xelement,F as context,I as element,l as globalStyles,Z as h,K as x};
